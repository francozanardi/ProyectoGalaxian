package Colisiones;

import Disparo.Disparo;
import Enemigo.Borracho;
import Enemigo.Enemigo;
import Enemigo.Guiado;
import Jugador.Jugador;
import Obstaculo.Barricada;
import Obstaculo.ObstaculoDestructible;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

public class ColDispJugador extends ColisionadorDisparo
{
	///////////////////////////////////////////////////////////////////////////////////////////////
	
	public ColDispJugador( )
	{
	}

	///////////////////////////////////////////////////////////////////////////////////////////////
	
	public ColisionadorDisparo clone( )
	{
		return new ColDispJugador( );
	}
	
	///////////////////////////////////////////////////////////////////////////////////////////////
	
	public void afectarAOtro( Disparo d, Colisionador otro )
	{
		otro.afectar( d, (Jugador) tirador );
	}
	
	///////////////////////////////////////////////////////////////////////////////////////////////
	
	public void afectar(Enemigo enemigo)
	{
		enemigo.recibirDMG( disparo.getDmg() );
		
		if(enemigo.getVida() <= 0)
		{
			tirador.setPuntaje(tirador.getPuntaje() + enemigo.getPuntaje());
		}
	}

	///////////////////////////////////////////////////////////////////////////////////////////////
	
	private void afectarKamikaze( Enemigo e )
	{
		e.recibirDMG( disparo.getDmg() );
		
		if (e.getVida() <= 0)
		{
			tirador.setPuntaje(tirador.getPuntaje() + e.getPuntaje());
		}
	}
	
	///////////////////////////////////////////////////////////////////////////////////////////////

	public void afectar(Borracho kamikaze)
	{
		afectarKamikaze( kamikaze );
	}
	
	public void afectar(Guiado kamikaze)
	{
		afectarKamikaze( kamikaze );
	}

	///////////////////////////////////////////////////////////////////////////////////////////////
	
	public void afectar(ObstaculoDestructible obstaculo)
	{
		obstaculo.recibirDMG( disparo.getDmg() );
	}

	///////////////////////////////////////////////////////////////////////////////////////////////
	
	public void afectar(Barricada barricada)
	{
		barricada.recibirDMG( disparo.getDmg() );
	}
	
	///////////////////////////////////////////////////////////////////////////////////////////////
}

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////